# –°–∞–π—Ç—Ç–∞“ì—ã –º”ô—Å–µ–ª–µ–ª–µ—Ä —Ç—É—Ä–∞–ª—ã –µ—Å–µ–ø

## üî¥ –ù–µ–≥—ñ–∑–≥—ñ –º”ô—Å–µ–ª–µ–ª–µ—Ä

### 1. **server.js —Ñ–∞–π–ª—ã –∂–æ–ª—ã –º”ô—Å–µ–ª–µ—Å—ñ** ‚úÖ –¢“Æ–ó–ï–¢–Ü–õ–î–Ü
**–ú”ô—Å–µ–ª–µ:** Dockerfile-–¥–∞ `server.js` —Ñ–∞–π–ª—ã–Ω —ñ—Å–∫–µ “õ–æ—Å—É –∂–æ–ª—ã –¥“±—Ä—ã—Å –µ–º–µ—Å –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω.

**–ù–µ —ñ—Å—Ç–µ–ª–¥—ñ:**
- `Dockerfile` –∂”ô–Ω–µ `Dockerfile.frontend` —Ñ–∞–π–ª–¥–∞—Ä—ã–Ω–∞ `WORKDIR /app` “õ–æ—Å—ã–ª–¥—ã
- `docker-compose.yml` —Ñ–∞–π–ª—ã–Ω–¥–∞ –∫–æ–º–∞–Ω–¥–∞ –∂–æ–ª—ã —Ç“Ø–∑–µ—Ç—ñ–ª–¥—ñ

**“ö–∞–ª“ì–∞–Ω –º”ô—Å–µ–ª–µ:** Next.js build –∫–µ–∑—ñ–Ω–¥–µ `server.js` —Ñ–∞–π–ª—ã –¥“±—Ä—ã—Å –∂–∞—Å–∞–ª“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É –∫–µ—Ä–µ–∫.

---

### 2. **Docker –∂–µ–ª—ñ –º”ô—Å–µ–ª–µ–ª–µ—Ä—ñ**
**–ú”ô—Å–µ–ª–µ:** Docker npm registry-–≥–µ “õ–æ—Å—ã–ª–∞ –∞–ª–º–∞–π–¥—ã.

**–®–µ—à—É ”ô–¥—ñ—Å—Ç–µ—Ä—ñ:**
1. Docker Desktop ‚Üí Settings ‚Üí Resources ‚Üí Proxies - –ø—Ä–æ–∫—Å–∏–¥—ñ —Ç–µ–∫—Å–µ—Ä—É
2. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –±–∞–π–ª–∞–Ω—ã—Å—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
3. npm registry-–≥–µ “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ–ª—ñ–∫—Ç—ñ —Ç–µ–∫—Å–µ—Ä—É: `docker run node:20-alpine npm ping`

---

### 3. **–û—Ä—Ç–∞ –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä (Environment Variables)**
**–ú”ô—Å–µ–ª–µ:** `.env.local` —Ñ–∞–π–ª—ã –∂–æ“õ –Ω–µ–º–µ—Å–µ –¥“±—Ä—ã—Å –±–∞–ø—Ç–∞–ª–º–∞“ì–∞–Ω –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω.

**“ö–∞–∂–µ—Ç—Ç—ñ –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä:**
```env
DATABASE_URL=postgresql://mediacatalog:mediacatalog123@localhost:5432/mediacatalog?schema=public
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key-change-in-production
JWT_SECRET=your-secret-key-change-in-production
NEXT_PUBLIC_BASE_URL=http://localhost:3000
```

**–¢–µ–∫—Å–µ—Ä—É:**
```bash
# .env.local —Ñ–∞–π–ª—ã –±–∞—Ä –º–∞?
ls -la .env.local

# –ú–∞–∑–º“±–Ω—ã–Ω –∫”©—Ä—É (—Å–µ–∫—Ä–µ—Ç—Ç–µ—Ä–¥—ñ –∫”©—Ä—Å–µ—Ç–ø–µ–π)
cat .env.local | grep -v SECRET
```

---

### 4. **–ë–∞–∑–∞ –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å**
**–ú”ô—Å–µ–ª–µ:** PostgreSQL –±–∞–∑–∞—Å—ã–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å –º”ô—Å–µ–ª–µ–ª–µ—Ä—ñ –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω.

**–¢–µ–∫—Å–µ—Ä—É —Ç—ñ–∑—ñ–º—ñ:**
```bash
# 1. PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ –∂“±–º—ã—Å —ñ—Å—Ç–µ–ø —Ç“±—Ä“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
docker-compose ps postgres

# 2. –ë–∞–∑–∞“ì–∞ “õ–æ—Å—ã–ª—É–¥—ã —Ç–µ–∫—Å–µ—Ä—É
docker-compose exec postgres psql -U mediacatalog -d mediacatalog -c "SELECT 1;"

# 3. Prisma –∫–ª–∏–µ–Ω—Ç—ñ–Ω generate –µ—Ç—É
npx prisma generate

# 4. –ú–∏–≥—Ä–∞—Ü–∏—è–ª–∞—Ä–¥—ã –æ—Ä—ã–Ω–¥–∞—É
npx prisma migrate deploy

# 5. –ë–∞–∑–∞ —Å—Ö–µ–º–∞—Å—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
npx prisma db pull
```

---

### 5. **Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Å—ã**
**–ú”ô—Å–µ–ª–µ:** Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Å—ã –æ—Ä–Ω–∞—Ç—ã–ª–º–∞“ì–∞–Ω –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω (–±“±–ª –º—ñ–Ω–¥–µ—Ç—Ç—ñ –µ–º–µ—Å, –µ–≥–µ—Ä Firebase “õ–æ–ª–¥–∞–Ω—ã–ª–º–∞—Å–∞).

**–¢–µ–∫—Å–µ—Ä—É:** `lib/firebase.ts` —Ñ–∞–π–ª—ã–Ω–¥–∞ –µ—Å–∫–µ—Ä—Ç—É —Ö–∞–±–∞—Ä–ª–∞–º–∞—Å—ã —à—ã“ì–∞–¥—ã –º–∞?

---

## ‚ö†Ô∏è –ï–∫—ñ–Ω—à—ñ –¥”ô—Ä–µ–∂–µ–ª—ñ –º”ô—Å–µ–ª–µ–ª–µ—Ä

### 6. **TypeScript –∂”ô–Ω–µ ESLint “õ–∞—Ç–µ–ª–µ—Ä—ñ –µ–ª–µ–º–µ–π–¥—ñ**
**–ú”ô—Å–µ–ª–µ:** `next.config.mjs` —Ñ–∞–π–ª—ã–Ω–¥–∞ “õ–∞—Ç–µ–ª–µ—Ä –µ–ª–µ–º–µ–π–¥—ñ, –±“±–ª –Ω–∞“õ—Ç—ã –º”ô—Å–µ–ª–µ–ª–µ—Ä–¥—ñ –∂–∞—Å—ã—Ä–∞–¥—ã.

**“∞—Å—ã–Ω—ã—Å:** –î–∞–º—ã—Ç—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ–ª–µ—Ä–¥—ñ –∫”©—Ä—Å–µ—Ç—É “Ø—à—ñ–Ω –±“±–ª –æ–ø—Ü–∏—è–ª–∞—Ä–¥—ã ”©—à—ñ—Ä—É.

---

## üîß –ñ–µ–¥–µ–ª —à–µ—à—É ”ô–¥—ñ—Å—Ç–µ—Ä—ñ

### –õ–æ–∫–∞–ª—å–¥—ñ –¥–∞–º—ã—Ç—É —Ä–µ–∂–∏–º—ñ–Ω–¥–µ —ñ—Å–∫–µ “õ–æ—Å—É:
```bash
# 1. –¢”ô—É–µ–ª–¥—ñ–ª—ñ–∫—Ç–µ—Ä–¥—ñ –æ—Ä–Ω–∞—Ç—É
npm install

# 2. Prisma –∫–ª–∏–µ–Ω—Ç—ñ–Ω generate –µ—Ç—É
npx prisma generate

# 3. –û—Ä—Ç–∞ –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä–¥—ã —Ç–µ–∫—Å–µ—Ä—É
# .env.local —Ñ–∞–π–ª—ã –±–∞—Ä –∂”ô–Ω–µ –¥“±—Ä—ã—Å –±–∞–ø—Ç–∞–ª“ì–∞–Ω –µ–∫–µ–Ω—ñ–Ω —Ç–µ–∫—Å–µ—Ä—É

# 4. –î–∞–º—ã—Ç—É —Å–µ—Ä–≤–µ—Ä—ñ–Ω —ñ—Å–∫–µ “õ–æ—Å—É
npm run dev
```

### Docker-–¥–∞ —ñ—Å–∫–µ “õ–æ—Å—É:
```bash
# 1. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–ª–µ—Ä–¥—ñ “õ“±—Ä–∞—Å—Ç—ã—Ä—É
docker-compose build

# 2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–ª–µ—Ä–¥—ñ —ñ—Å–∫–µ “õ–æ—Å—É
docker-compose up

# 3. –õ–æ–≥—Ç–∞—Ä–¥—ã –∫”©—Ä—É (–º”ô—Å–µ–ª–µ–ª–µ—Ä–¥—ñ –∞–Ω—ã“õ—Ç–∞—É “Ø—à—ñ–Ω)
docker-compose logs -f
```

---

## üìã –¢–µ–∫—Å–µ—Ä—É —Ç—ñ–∑—ñ–º—ñ

- [ ] `.env.local` —Ñ–∞–π–ª—ã –±–∞—Ä –º–∞ –∂”ô–Ω–µ –¥“±—Ä—ã—Å –±–∞–ø—Ç–∞–ª“ì–∞–Ω –±–∞?
- [ ] PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ –∂“±–º—ã—Å —ñ—Å—Ç–µ–ø —Ç“±—Ä“ì–∞–Ω –±–∞? (`docker-compose ps`)
- [ ] Prisma –∫–ª–∏–µ–Ω—Ç—ñ generate –±–æ–ª“ì–∞–Ω –±–∞? (`npx prisma generate`)
- [ ] Prisma –º–∏–≥—Ä–∞—Ü–∏—è–ª–∞—Ä—ã –æ—Ä—ã–Ω–¥–∞–ª“ì–∞–Ω –±–∞? (`npx prisma migrate deploy`)
- [ ] Docker –∂–µ–ª—ñ –º”ô—Å–µ–ª–µ–ª–µ—Ä—ñ —à–µ—à—ñ–ª–≥–µ–Ω –±–µ?
- [ ] `npm run build` —Å”ô—Ç—Ç—ñ –∞—è“õ—Ç–∞–ª“ì–∞–Ω –±–∞?
- [ ] Build –∫–µ–∑—ñ–Ω–¥–µ `server.js` —Ñ–∞–π–ª—ã –∂–∞—Å–∞–ª“ì–∞–Ω –±–∞? (`.next/standalone/server.js`)

---

## üêõ –ú”ô—Å–µ–ª–µ–ª–µ—Ä–¥—ñ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞–ª–∞—É

### –ï–≥–µ—Ä —Å–∞–π—Ç –∂“±–º—ã—Å —ñ—Å—Ç–µ–º–µ—Å–µ:

1. **–ë—Ä–∞—É–∑–µ—Ä –∫–æ–Ω—Å–æ–ª—å—ñ–Ω–¥–µ “õ–∞—Ç–µ–ª–µ—Ä–¥—ñ —Ç–µ–∫—Å–µ—Ä—É:**
   - F12 –±–∞—Å—ã“£—ã–∑
   - Console “õ–æ–π—ã–Ω–¥—ã—Å—ã–Ω “õ–∞—Ä–∞“£—ã–∑
   - “ö–∞—Ç–µ–ª–µ—Ä–¥—ñ –∂–∞–∑—ã–ø –∞–ª—ã“£—ã–∑

2. **–°–µ—Ä–≤–µ—Ä –ª–æ–≥—Ç–∞—Ä—ã–Ω —Ç–µ–∫—Å–µ—Ä—É:**
   ```bash
   # –õ–æ–∫–∞–ª—å–¥—ñ —Ä–µ–∂–∏–º–¥–µ
   npm run dev
   
   # Docker —Ä–µ–∂–∏–º—ñ–Ω–¥–µ
   docker-compose logs -f backend
   docker-compose logs -f frontend
   ```

3. **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—Ç–µ—Ä—ñ–Ω —Ç–µ–∫—Å–µ—Ä—É:**
   ```bash
   # –§–∏–ª—å–º–¥–µ—Ä–¥—ñ –∞–ª—É
   curl http://localhost:3000/api/movies
   
   # –ö—ñ—Ç–∞–ø—Ç–∞—Ä–¥—ã –∞–ª—É
   curl http://localhost:3000/api/books
   
   # –û–π—ã–Ω–¥–∞—Ä–¥—ã –∞–ª—É
   curl http://localhost:3000/api/games
   ```

4. **–ë–∞–∑–∞ –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã —Ç–µ–∫—Å–µ—Ä—É:**
   ```bash
   # Prisma Studio –∞—Ä“õ—ã–ª—ã –±–∞–∑–∞–Ω—ã –∫”©—Ä—É
   npx prisma studio
   ```

---

## ‚úÖ –û—Ä—ã–Ω–¥–∞–ª“ì–∞–Ω —Ç“Ø–∑–µ—Ç—É–ª–µ—Ä

1. ‚úÖ `Dockerfile` –∂”ô–Ω–µ `Dockerfile.frontend` —Ñ–∞–π–ª–¥–∞—Ä—ã–Ω–∞ `WORKDIR /app` “õ–æ—Å—ã–ª–¥—ã
2. ‚úÖ `docker-compose.yml` —Ñ–∞–π–ª—ã–Ω–¥–∞ –∫–æ–º–∞–Ω–¥–∞ –∂–æ–ª—ã —Ç“Ø–∑–µ—Ç—ñ–ª–¥—ñ
3. ‚úÖ –ú”ô—Å–µ–ª–µ–ª–µ—Ä —Ç—É—Ä–∞–ª—ã –µ—Å–µ–ø “õ“±–∂–∞—Ç—Ç–∞–º–∞—Å—ã –∂–∞—Å–∞–ª–¥—ã

---

**–î–∞—Ç–∞:** 2024
**–°—Ç–∞—Ç—É—Å:** –ù–µ–≥—ñ–∑–≥—ñ –º”ô—Å–µ–ª–µ–ª–µ—Ä –∞–Ω—ã“õ—Ç–∞–ª–¥—ã, –∫–µ–π–±—ñ—Ä —Ç“Ø–∑–µ—Ç—É–ª–µ—Ä –∂–∞—Å–∞–ª–¥—ã

